(this["webpackJsonptech-assignment-task-manager"]=this["webpackJsonptech-assignment-task-manager"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={cardsColumn:"CardsColumn_cardsColumn__Up7h_",title:"CardsColumn_title__3xeok",card:"CardsColumn_card__OJ1G1",addCard:"CardsColumn_addCard__3cR2H",cardsContainer:"CardsColumn_cardsContainer__ny4Uj",active:"CardsColumn_active__3MoWj",dotsContainer:"CardsColumn_dotsContainer__1K4VS",dots:"CardsColumn_dots__3Qapx",popOver:"CardsColumn_popOver__1ojdC",delete:"CardsColumn_delete__2Tzce"}},function(e,t,n){e.exports={addEntity:"AddNewEntity_addEntity__c2ArE",addEntityButton:"AddNewEntity_addEntityButton__2cehy",plus:"AddNewEntity_plus__1H8Jk",form:"AddNewEntity_form__1Bqu4",textarea:"AddNewEntity_textarea__301r-",input:"AddNewEntity_input__XAG2T",formButtons:"AddNewEntity_formButtons__3LDGc",closeButton:"AddNewEntity_closeButton__1C8q5"}},function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__fVfEx",input:"Dropdown_input__2H5am",optionsTitle:"Dropdown_optionsTitle__1VJun",option:"Dropdown_option__3WSwf",active:"Dropdown_active__3SbmY",selected:"Dropdown_selected__oLYSn",tick:"Dropdown_tick__2KPlx"}},,function(e,t,n){e.exports={container:"BoardTile_container__1Lw9k",boardTile:"BoardTile_boardTile__1Wgao",dots:"BoardTile_dots__3lvvr",popOver:"BoardTile_popOver__1Ig60",form:"BoardTile_form__3q7kL",buttons:"BoardTile_buttons__2AaXn",delete:"BoardTile_delete__dOy7t"}},,function(e,t,n){e.exports={users:"EditModal_users__12_wt",userAvatar:"EditModal_userAvatar__2JXS9",popOverWrapper:"EditModal_popOverWrapper__2PM2S",popOver:"EditModal_popOver__2LNHM",plus:"EditModal_plus__21_6C"}},function(e,t,n){e.exports={modal:"ManageUsersModal_modal__2R0hI",dropdown:"ManageUsersModal_dropdown__2tJfc",newUserSection:"ManageUsersModal_newUserSection__20D4i",userOption:"ManageUsersModal_userOption__17xkw",addUserForm:"ManageUsersModal_addUserForm__1FUPd"}},,,,,function(e,t,n){e.exports={title:"UserForm_title__20k8Z",input:"UserForm_input__2miHM",inputError:"UserForm_inputError__ICOEF",buttons:"UserForm_buttons__DoCbX"}},,,,,function(e,t,n){e.exports={app:"App_app__13Yue",boardsTiles:"App_boardsTiles__jK6nv",createBoard:"App_createBoard__1dKXq"}},function(e,t,n){e.exports={board:"Board_board__1eH_K",grid:"Board_grid__2R2by",addColumn:"Board_addColumn__1ufof"}},function(e,t,n){e.exports={card:"Card_card__1eE8R",users:"Card_users__8gWOt",user:"Card_user__38l0G"}},function(e,t,n){e.exports={option:"Option_option__1cvLn",nameDetails:"Option_nameDetails__Eraqg",nickName:"Option_nickName__uQ1qm"}},function(e,t,n){e.exports={container:"CreateBoard_container__vogBj",popOver:"CreateBoard_popOver__25DkH",form:"CreateBoard_form__1YMcn"}},,,,,,,,function(e,t,n){e.exports={modal:"Modal_modal__P3_V5",overlay:"Modal_overlay__2GjdW"}},function(e,t,n){e.exports={editable:"EditableText_editable__wkmwK",hovered:"EditableText_hovered__KJhw7"}},function(e,t,n){e.exports={userAvatar:"UserAvatar_userAvatar__2oyFd"}},,,,,,,function(e,t,n){e.exports={tick:"Tick_tick__1LcoM"}},function(e,t,n){e.exports={button:"Button_button__3QF_k"}},function(e,t,n){e.exports={addCard:"AddCard_addCard__3k0Vc",addCardButton:"AddCard_addCardButton__3nkkP",plus:"AddCard_plus__3iJ8i",form:"AddCard_form__1Syzr",textarea:"AddCard_textarea__J31sm",formButtons:"AddCard_formButtons__2pdw3",closeButton:"AddCard_closeButton__2yBQh"}},function(e,t,n){e.exports={delete:"DeleteButton_delete__19e0y"}},function(e,t,n){e.exports={popOver:"PopOver_popOver__2CTBE"}},function(e,t,n){},,,,,,,,function(e,t,n){},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),o=n(34),i=n.n(o),s=(n(60),n(6)),l=n(26),u=n.n(l),d=n(2),j=n(75),f=n(53),b=n(27),O=n.n(b),v=n(5),m=n(76),p={ENTER:13,UP_ARROW:38,DOWN_ARROW:40,TAB:9},_="ITEM_TYPE",h="task-manager",x="".concat(h,"-boards"),C="".concat(h,"-tasks"),N="".concat(h,"-users"),k="".concat(h,"-columns"),g=function(e){var t=e.onDrop,n=e.canDrop,a=Object(m.a)({accept:_,canDrop:function(e){return n(e)},drop:function(e){return t(e)},collect:function(e){return{isOver:e.isOver()}}}),r=Object(v.a)(a,2),c=r[0].isOver;return{ref:r[1],isOver:c}},y=function(e){var t=e.onDrop,n=e.children,r=e.onCanDrop,o=e.colId,i=g({onDrop:function(e){return t(e,o)},canDrop:function(e){return r(e)}}),s=i.ref,l=i.isOver;return Object(a.jsx)("div",{ref:s,children:c.a.cloneElement(n,{isOver:l})})},B=n(12),E=n(4),U=n.n(E),A=n(9),S=n.n(A),w=n(77),D=function(e,t){var n;return function(){if(!n){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];e.apply(null,r),n=!0,setTimeout((function(){return n=!1}),t)}}},T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},I=function(e){try{var t=localStorage.getItem(e);return t&&JSON.parse(t)}catch(n){return null}},M=function(e,t){localStorage.setItem(e,JSON.stringify(t))},R=function(e){return Object.keys(e).map((function(t){return e[t]}))},F=function(e){var t=e.onCardSwap,n=e.cardDetails,a=Object(r.useRef)(null),c=Object(m.a)({accept:_,hover:D((function(e,r){if(a.current){var c=e.index,o=n.index;if(c!==o){var i=a.current.getBoundingClientRect(),s=(i.bottom-i.top)/2,l=r.getSourceClientOffset().y-i.top;c<o&&l<s||c>o&&l>s||(e.index=o,t(c,o))}}}),100)}),o=Object(v.a)(c,2)[1],i=Object(w.a)({item:Object(d.a)({type:_},n),isDragging:function(e){return n.id===e.getItem().id},collect:function(e){return{isDragging:e.isDragging()}}}),s=Object(v.a)(i,2),l=s[0].isDragging;return(0,s[1])(o(a)),{ref:a,isDragging:l}},W=n(28),P=n.n(W),V=n(8),L=n(37),q=n.n(L),H=n(38),J=n.n(H);q.a.setAppElement("#root");var K=function(e){var t=e.show,n=e.onClose,r=e.className,c=e.children,o=void 0===c?null:c;return Object(a.jsx)(q.a,{isOpen:t,onRequestClose:n,className:U()(J.a.modal,r),overlayClassName:J.a.overlay,children:o})},X=n(39),G=n.n(X),Y=function(e){var t=e.value,n=e.onChange,c=void 0===n?function(){}:n,o=e.onFocus,i=e.type,s=void 0===i?"text":i,l=e.placeholder,u=e.className,d=Object(r.useState)(!1),j=Object(v.a)(d,2),f=j[0],b=j[1],O=Object(r.useRef)(null);return Object(a.jsx)("input",{ref:O,onMouseOver:function(){return b(!0)},onMouseLeave:function(){return b(!1)},onFocus:o,onKeyDown:function(e){return function(e,t){var n=e.key,a=["Escape","Tab"],r=[].concat(a,["Enter"]);("textarea"===t&&a.indexOf(n)>-1||"textarea"!==t&&r.indexOf(n)>-1)&&(e.stopPropagation(),O.current.blur())}(e,s)},type:s,className:U()(G.a.editable,f&&G.a.hovered,u),placeholder:l,value:t,onChange:function(e){return c(e.target.value)}})},Q=n(40),z=n.n(Q),Z=function(e){var t=e.className,n=e.user,r=n.avatarUrl,c=n.firstName,o=void 0===c?"":c,i=n.lastName,s=void 0===i?"":i;return!1===Boolean(r)?Object(a.jsxs)("div",{className:U()(z.a.userAvatar,t),children:[o.charAt(0).toUpperCase(),s.charAt(0).toUpperCase()]}):Object(a.jsx)("img",{className:U()(z.a.userAvatar,t),src:n.avatarUrl,alt:n.fullName})},$=n(15),ee=n.n($),te=Object(r.createContext)({}),ne=function(e){return function(t){return e?t:null}},ae=n(11),re=n.n(ae),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase()},oe=function(e){return e[0]},ie=function(e){return e.length-1},se=function(e){var t=e.options,n=e.selectedValues,a=e.onChange,c=e.inputRef,o=Object(r.useState)({activeValue:null,querySearch:""}),i=Object(v.a)(o,2),s=i[0],l=i[1],u=t.filter((function(e){return ce(e.label).includes(ce(s.querySearch.trim()))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{active:s.activeValue===e.value,selected:n.includes(e.value)})})),j=function(e){l(Object(d.a)(Object(d.a)({},s),{},{activeValue:e}))};return{state:{optionsToShow:u},handleInputChange:function(e){l(Object(d.a)(Object(d.a)({},s),{},{querySearch:e.target.value}))},handleKeyDown:function(e){if([p.DOWN_ARROW,p.UP_ARROW,p.ENTER].includes(e.keyCode))switch(e.preventDefault(),e.keyCode){case p.DOWN_ARROW:!function(){if(null===s.activeValue){var e=oe(u).value;return j(e)}var t=u.findIndex((function(e){return e.value===s.activeValue}));if(t+1===u.length){var n=oe(u).value;return j(n)}var a=u[t+1].value;j(a)}();break;case p.UP_ARROW:!function(){if(null===s.activeId){var e=u[ie(u)].value;return j(e)}var t=u.findIndex((function(e){return e.value===s.activeValue}));if(t-1<0){var n=u[ie(u)].value;return j(n)}var a=u[t-1].value;j(a)}();break;case p.ENTER:!function(){var e=u.find((function(e){return e.value===s.activeValue}));a({value:e.value,selected:!e.selected})}();break;default:return!1}},handleOptionClick:function(e){var t,n=e.value,r=u.find((function(e){return e.value===n}));a({value:n,selected:!r.selected}),null===(t=c.current)||void 0===t||t.focus()},handleOptionMouseOver:function(e){return j(e.value)}}},le=function(e){Object(r.useEffect)((function(){e()}),[])},ue=n(47),de=n.n(ue),je=function(e){var t=e.className;return Object(a.jsx)("span",{className:U()(de.a.tick,t),children:"\u2713"})},fe=function(e){var t=e.className,n=e.activeOptionClassName,c=void 0===n?re.a.active:n,o=e.selectedOptionClassName,i=void 0===o?re.a.selected:o,s=e.placeholder,l=void 0===s?"search something":s,u=e.title,j=e.options,f=void 0===j?[]:j,b=e.renderOptionWrapper,O=e.renderOption,v=void 0===O?function(e){return e.label}:O,m=e.selectedValues,p=void 0===m?[]:m,_=e.onChange,h=void 0===_?function(e){return console.log(e)}:_,x=e.inputFocusOnMount,C=void 0!==x&&x,N=Object(r.useRef)(null);le((function(){var e;return C&&(null===(e=N.current)||void 0===e?void 0:e.focus())}));var k=function(e){var t=e.active,n=e.selected;return U()([re.a.option,t&&c,n&&i])},g=se({options:f,selectedValues:p,onChange:h,inputRef:N}),y=g.state,B=g.handleInputChange,E=g.handleKeyDown,A=g.handleOptionClick,S=g.handleOptionMouseOver;return Object(a.jsxs)("div",{className:U()([re.a.dropdown,t]),children:[Object(a.jsx)("input",{ref:N,className:re.a.input,placeholder:l,type:"text",onChange:B,onKeyDown:E}),ne(u)(Object(a.jsx)("div",{className:re.a.optionsTitle,children:u})),Object(a.jsx)("div",{className:re.a.optionsContainer,children:y.optionsToShow.map((function(e){var t=e.value,n=e.active,c=e.selected,o={className:k({active:n,selected:c}),onMouseOver:function(){return S({value:t})},onClick:function(){return A({value:t})}};return b?b(Object(d.a)(Object(d.a)(Object(d.a)({},e),o),{},{children:v(e)})):Object(r.createElement)("div",Object(d.a)(Object(d.a)({},o),{},{key:t}),v(e),ne(Boolean(c))(Object(a.jsx)(je,{className:re.a.tick})))}))})]})},be=n(29),Oe=n.n(be),ve=function(e){return U()([Oe.a.option,e])},me=function(e){var t=e.className,n=e.user;return Object(a.jsxs)("div",{className:ve(t),children:[Object(a.jsx)(Z,{user:n}),Object(a.jsxs)("div",{className:Oe.a.nameDetails,children:[Object(a.jsx)("span",{children:"".concat(n.firstName," ").concat(n.lastName)}),Object(a.jsx)("span",{className:Oe.a.nickName,children:"(".concat(n.nickName,")")})]})]})},pe=function(e){return Object(d.a)({value:e.id,label:"".concat(e.firstName," ").concat(e.lastName," ").concat(e.nickName)},e)},_e=function(e){var t=e.className,n=e.users,r=void 0===n?[]:n,c=e.title,o=e.onChange,i=e.selectedValues,s=e.renderOptionWrapper;return 0===r.length?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"No Users yet \xaf\\_(\u30c4)_/\xaf"}),"but you can always create one"]}):Object(a.jsx)(fe,{className:t,options:r.map(pe),selectedValues:i,placeholder:"Search users",title:c,renderOptionWrapper:s,renderOption:function(e){return Object(a.jsx)(me,{user:e})},onChange:o})},he=n(48),xe=n.n(he),Ce=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(B.a)(e,["className","children"]);return Object(a.jsx)("button",Object(d.a)(Object(d.a)({className:U()(xe.a.button,n)},c),{},{children:r}))},Ne=function(e){var t=e.elementRef,n=e.onOuterClick,a=e.shouldHandle,c=void 0===a||a;Object(r.useEffect)((function(){if(!1!==c){var e=function(e){if(null!==t.current){var a=e.target;a!==t.current&&!t.current.contains(a)&&n()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[t,n,c])},ke=function(e){var t=e.children,n=e.className;return Object(a.jsx)("div",{className:n,children:t})},ge=function(e){var t=e.show,n=e.onClose,c=e.title,o=e.onCardUpdate,i=e.users,s=void 0===i?[]:i,l=Object(r.useState)(!1),u=Object(v.a)(l,2),j=u[0],f=u[1],b=Object(r.useRef)(null);Ne({shouldHandle:j,elementRef:b,onOuterClick:function(){return f(!1)}});var O=Object(r.useContext)(te).users,m=s.map((function(e){return e.id}));return Object(a.jsxs)(K,{show:t,onClose:n,children:[Object(a.jsx)(Y,{value:c,onChange:function(e){return o({title:e,usersIds:m})},placeholder:"Write a task title"}),Object(a.jsxs)("div",{className:ee.a.users,children:[s.map((function(e){return Object(a.jsx)(Z,Object(d.a)(Object(d.a)({},{user:e}),{},{className:ee.a.userAvatar}),e.id)})),Object(a.jsxs)("div",{className:ee.a.popOverWrapper,children:[Object(a.jsx)(Ce,{className:s.length>0&&ee.a.plus,onClick:function(){return f(!0)},children:s.length>0?"+":"Assign User"}),ne(j)(Object(a.jsx)("div",{ref:b,className:ee.a.popOverContainer,children:Object(a.jsx)(ke,{className:ee.a.popOver,children:Object(a.jsx)(_e,{users:R(O),selectedValues:m,onChange:function(e){var t=e.value,n=e.selected;if(!1===Boolean(n)){var a=m.filter((function(e){return e!==t}));return o({title:c,usersIds:a})}var r=s.map((function(e){return e.id}));o({title:c,usersIds:[].concat(Object(V.a)(r),[t])})}})})}))]})]})]})},ye=function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),n=t[0],a=t[1];return{modalVisible:n,showModal:function(){return a(!0)},hideModal:function(){return a(!1)}}},Be=function(e){var t=e.title,n=e.className,r=e.users,c=void 0===r?[]:r,o=e.onCardUpdate,i=ye(),s=i.modalVisible,l=i.showModal,u=i.hideModal;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:U()(P.a.card,n),onClick:l,children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)("div",{className:P.a.users,children:c.map((function(e){return Object(a.jsx)(Z,Object(d.a)(Object(d.a)({},{user:e}),{},{className:P.a.user}),e.id)}))})]}),Object(a.jsx)(ge,{title:t,users:c,onClose:u,show:s,onCardUpdate:o})]})},Ee=function(e){var t=e.dragProps,n=e.cardProps,r=t.id,c=t.index,o=t.colId,i=t.moveItem,s=t.usersIds,l=F({cardDetails:Object(d.a)({colId:o,id:r,index:c,usersIds:s},n),onCardSwap:i}),u=l.ref,j=l.isDragging;return Object(a.jsx)("div",{ref:u,style:{opacity:j?0:1,zIndex:999},children:Object(a.jsx)(Be,Object(d.a)({},n))})},Ue=n(49),Ae=n.n(Ue),Se=n(10),we=n.n(Se),De=function(e){var t=e.onEntityAdd,n=Object(r.useState)(""),a=Object(v.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(v.a)(i,2),l=s[0],u=s[1],d=function(){if(c)return t({title:c}),o("")};return{state:{title:c,expanded:l},handleTitleChange:function(e){var t=e.target;o(t.value)},handleCardAdd:d,handleSubmit:function(e){e.preventDefault(),d()},handleExpanderClick:function(e){return function(){return u(e)}},handleOuterClick:function(){d(),u(!1)}}},Te=function(e){var t=e.className,n=e.onEntityAdd,c=void 0===n?function(){}:n,o=e.inputType,i=e.addEntityButtonLabel,s=void 0===i?"Add Another Entity":i,l=e.submitEntityButtonLabel,u=void 0===l?"Add Entity":l,j=e.addEntityButtonClassName,f=Object(r.useRef)(null),b=De({onEntityAdd:c}),O=b.handleTitleChange,v=b.handleSubmit,m=b.handleExpanderClick,p=b.handleOuterClick,_=b.state;Ne({shouldHandle:_.expanded,elementRef:f,onOuterClick:p});var h={placeholder:"Enter a title for this entity",value:_.title,onChange:O},x=_.expanded?Object(a.jsxs)("form",{ref:f,onSubmit:v,className:we.a.form,children:["input"===o?Object(a.jsx)("input",Object(d.a)({className:we.a.input,type:"text"},h)):Object(a.jsx)("textarea",Object(d.a)({className:we.a.textarea,rows:5},h)),Object(a.jsxs)("div",{className:we.a.formButtons,children:[Object(a.jsx)(Ce,{className:we.a.button,type:"submit",children:u}),Object(a.jsx)(Ce,{className:we.a.closeButton,type:"button",onClick:m(!1),children:"X"})]})]}):Object(a.jsxs)(Ce,{className:U()(we.a.addEntityButton,j),onClick:m(!0),children:[Object(a.jsx)("span",{className:we.a.plus,children:"+"})," ",s]});return Object(a.jsx)("div",{className:U()(we.a.addEntity,t),children:x})},Ie=function(e){var t=e.className,n=e.onCardAdd,r=void 0===n?function(){}:n,c=e.addCardButtonLabel,o=void 0===c?"Add Another Card":c,i=e.addCardButtonClassName;return Object(a.jsx)(Te,{className:U()(Ae.a.addCard,t),addEntityButtonClassName:i,submitEntityButtonLabel:"Add Card",addEntityButtonLabel:o,onEntityAdd:r})},Me=n(50),Re=n.n(Me),Fe=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=void 0===r?"Delete":r,o=Object(B.a)(e,["className","children"]);return Object(a.jsx)(Ce,Object(d.a)(Object(d.a)({className:U()(Re.a.delete,n)},o),{},{children:c}))},We=n(51),Pe=n.n(We),Ve=function(e){var t=e.children,n=e.className,c=e.onClose,o=Object(r.useRef)(null);return Ne({shouldHandle:!0,elementRef:o,onOuterClick:c}),Object(a.jsx)("div",{ref:o,className:U()(Pe.a.popOver,n),children:t})},Le=function(e){var t=e.className,n=e.title,c=void 0===n?"":n,o=e.cards,i=void 0===o?[]:o,s=e.onCardAdd,l=void 0===s?function(){}:s,u=e.isOver,j=e.onCardUpdate,f=e.onTitleUpdate,b=e.onColumnDelete,O=Object(r.useState)(!1),m=Object(v.a)(O,2),p=m[0],_=m[1];return Object(a.jsxs)("div",{className:U()(S.a.cardsColumn,t),children:[Object(a.jsxs)("div",{className:S.a.dotsContainer,children:[Object(a.jsxs)(Ce,{className:S.a.dots,onClick:function(){return _(!0)},children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),ne(p)(Object(a.jsx)(Ve,{className:S.a.popOver,onClose:function(){return _(!1)},children:Object(a.jsx)(Fe,{className:S.a.delete,onClick:b})}))]}),Object(a.jsx)(Y,{className:S.a.title,value:c.toUpperCase(),onChange:f}),Object(a.jsx)("div",{className:U()(S.a.cardsContainer,u&&S.a.active),children:i.map((function(e){var t,n=e.title,r=(e.className,e.users),c=Object(B.a)(e,["title","className","users"]);return Object(a.jsx)(Ee,{cardProps:{title:n,className:S.a.card,users:r,onCardUpdate:(t=c.id,function(e){return j(Object(d.a)(Object(d.a)({},e),{},{id:t}))})},dragProps:c},c.id)}))}),Object(a.jsx)(Ie,{className:S.a.addCard,onCardAdd:l})]})},qe=n(52),He=n.n(qe),Je=function(e){var t=e.className,n=e.onColumnAdd,r=void 0===n?function(){}:n,c=e.addColumnButtonClassName;return Object(a.jsx)(Te,{inputType:"input",className:U()(He.a.addCard,t),addEntityButtonClassName:c,addEntityButtonLabel:"Add New Column",submitEntityButtonLabel:"Add Column",onEntityAdd:r})},Ke=function(e){var t=e.initialColumns,n=e.initialTasks,a=Object(r.useState)(t||[]),c=Object(v.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(n||[]),l=Object(v.a)(s,2),u=l[0],j=l[1];return{state:{columns:o,tasks:u},handleTaskUpdate:function(e){var t=u.findIndex((function(t){return t.id===e.id}));u[t]=e,j(Object(V.a)(u))},handleColumnDelete:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},handleColumnUpdate:function(e){var t=e.title,n=e.id,a=o.findIndex((function(e){return e.id===n}));o[a].title=t,i(Object(V.a)(o))},handleColumnAdd:function(e){var t={title:e.title,id:T()};i((function(e){return[].concat(Object(V.a)(e),[t])}))},handleMoveItem:function(e,t){var n=u[e];j((function(a){var r=a.filter((function(t,n){return n!==e}));return r.splice(t,0,n),Object(V.a)(r)}))},handleDrop:function(e,t){j((function(n){return n.filter((function(t){return t.id!==e.id})).concat({id:(a=Object(d.a)(Object(d.a)({},e),{},{colId:t})).id,usersIds:a.usersIds,title:a.title,colId:a.colId,index:a.index});var a}))},checkDrop:function(e){return function(t){var n=o.findIndex((function(e){return e.id===t.colId}));return[e+1,e-1,e].includes(n)}},handleCardAdd:function(e){return function(t){var n=t.title,a={id:T(),title:n,usersIds:[],index:u.length,colId:e};j([].concat(Object(V.a)(u),[a]))}}}},Xe=function(e){var t=e.tasks,n=e.columns,a=e.onTasksSave,c=e.onColumnsSave;Object(r.useEffect)((function(){a(t)}),[t]),Object(r.useEffect)((function(){c(n)}),[n])},Ge=function(e){var t=e.users,n=e.initialTasks,r=e.initialColumns,c=e.onTasksSave,o=e.onColumnsSave,i=Ke({initialColumns:r,initialTasks:n}),s=i.state,l=i.handleTaskUpdate,u=i.handleColumnDelete,b=i.handleColumnUpdate,v=i.handleColumnAdd,m=i.handleMoveItem,p=i.handleCardAdd,_=i.handleDrop,h=i.checkDrop,x=s.columns,C=s.tasks;return Xe({columns:x,tasks:C,onTasksSave:c,onColumnsSave:o}),Object(a.jsx)("div",{className:O.a.board,children:Object(a.jsx)(j.a,{backend:f.a,children:Object(a.jsxs)("div",{className:O.a.grid,children:[x.map((function(e,n){return Object(a.jsx)(y,{colId:e.id,onCanDrop:h(n),onDrop:_,status:e.title,children:Object(a.jsx)(Le,{title:e.title,onTitleUpdate:function(t){return b({title:t,id:e.id})},onColumnDelete:function(){return u(e.id)},onCardAdd:p(e.id),onCardUpdate:function(t){return l(Object(d.a)(Object(d.a)({},t),{},{colId:e.id}))},cards:C.filter((function(t){return t.colId===e.id})).sort((function(e,t){return e.index-t.index})).map((function(e,n){var a=e.usersIds.map((function(e){return t[e]})).filter((function(e){return e}));return Object(d.a)(Object(d.a)({},e),{},{users:a,index:n,moveItem:m})}))})},e.id)})),Object(a.jsx)(Je,{className:O.a.addColumn,onColumnAdd:v})]})})})},Ye=n(16),Qe=n.n(Ye),ze=n(21),Ze=n.n(ze),$e=function(e){var t=e.className,n=e.fields,c=void 0===n?[]:n,o=e.onSubmit,i=e.onCancel,l=e.title,u=Object(r.useState)(function(e){return e.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.name,{value:t.value,isRequired:t.isRequired}))}),{})}(c)),j=Object(v.a)(u,2),f=j[0],b=j[1],O=Object(r.useState)(!1),m=Object(v.a)(O,2),p=m[0],_=m[1],h=function(e){return f[e].isRequired&&!1===Boolean(f[e].value.trim())};return Object(a.jsxs)("form",{className:t,onSubmit:function(e){if(e.preventDefault(),_(!0),!Object.keys(f).some(h)){var t=Object.keys(f).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t,f[t].value))}),{});return o(t)}alert("Please fill the fields")},children:[ne(l)(Object(a.jsx)("h3",{className:Ze.a.title,children:l})),c.map((function(e,t){var n=e.name,r=e.placeholder;return Object(a.jsx)("input",{className:U()(Ze.a.input,p&&h(n)&&Ze.a.inputError),placeholder:r,value:f[n].value,onChange:function(e){var t=e.target.value;!function(e,t){b((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e,Object(d.a)(Object(d.a)({},n[e]),{},{value:t})))}))}(n,t)}},t)})),Object(a.jsxs)("div",{className:Ze.a.buttons,children:[Object(a.jsx)(Ce,{type:"submit",children:"save"}),Object(a.jsx)(Ce,{type:"button",onClick:i,children:"cancel"})]})]})},et=function(e){var t=e.className,n=e.user,r=e.onEditClick,c=e.onDeleteClick,o=n.avatarUrl,i=n.firstName,s=n.lastName,l=n.nickName;return Object(a.jsxs)("div",{className:t,children:[[o,i,s,l].map((function(e,t){return Object(a.jsx)("div",{children:e},t)})),Object(a.jsx)(Ce,{onClick:r,children:"edit"}),Object(a.jsx)(Fe,{onClick:c})]},e.id)},tt=[{name:"avatarUrl",placeholder:"paste user avatar url"},{name:"firstName",placeholder:"write user first name"},{name:"lastName",placeholder:"write user last name"},{name:"nickName",placeholder:"write user nick name"}],nt=function(e){var t=e.name,n=e.value,a=void 0===n?"":n,r=e.placeholder;return{name:t,placeholder:void 0===r?"":r,value:a,isRequired:"avatarUrl"!==t}},at=function(e){var t=e.onUserUpdate,n=void 0===t?function(){}:t,c=e.onUserCreate,o=void 0===c?function(){}:c,i=e.onUserDelete,l=void 0===i?function(){}:i,u=ye(),j=u.modalVisible,f=u.showModal,b=u.hideModal,O=Object(r.useState)({}),m=Object(v.a)(O,2),p=m[0],_=m[1],h=Object(r.useState)(!1),x=Object(v.a)(h,2),C=x[0],N=x[1],k=R(e.users),g=function(e,t){return _((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e,t))}))},y=function(e){var t=e.key,n=e.onCancel,r=e.fields,c=e.onSubmit,o=e.className,i=e.title;return Object(a.jsx)($e,Object(d.a)({className:U()(Qe.a.userOption,o)},{onCancel:n,fields:r,onSubmit:c,title:i}),t)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce,{onClick:f,children:"Manage Users"}),Object(a.jsxs)(K,{className:Qe.a.modal,show:j,onClose:b,children:[Object(a.jsxs)("div",{className:Qe.a.newUserSection,children:[ne(C)(y({key:"",title:"Add New User",className:Qe.a.addUserForm,onCancel:function(){return N(!1)},onSubmit:function(e){o(e),N(!1)},fields:tt.map(nt)})),ne(!1===C)(Object(a.jsx)(Ce,{onClick:function(){return N(!0)},children:"Add new User"}))]}),Object(a.jsx)(_e,{className:Qe.a.dropdown,users:k,renderOptionWrapper:function(e){if(!1===Boolean(p[e.id])){var t=e.avatarUrl,r=e.firstName,c=e.lastName,o=e.nickName;return Object(a.jsx)(et,{className:Qe.a.userOption,user:{avatarUrl:t,firstName:r,lastName:c,nickName:o},onEditClick:function(){return g(e.id,!0)},onDeleteClick:function(){return l(e.id)}},e.id)}var i=tt.map((function(t){var n=t.name,a=Object(B.a)(t,["name"]);return Object(d.a)({name:n,value:e[n]},a)})).map(nt);return y({key:e.value,onCancel:function(){return g(e.id,!1)},onSubmit:function(t){return function(e,t){n(Object(d.a)({id:e},t)),g(e,!1)}(e.id,t)},fields:i})}})]})]})},rt=n(30),ct=n.n(rt),ot=function(e){var t=e.onBoardCreate,n=e.className,c=Object(r.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],l=Object(r.useState)(""),u=Object(v.a)(l,2),d=u[0],j=u[1];return Object(a.jsxs)("div",{className:U()(ct.a.container,n),onClick:function(){return s(!0)},children:["Create New Board",ne(i)(Object(a.jsx)(Ve,{className:ct.a.popOver,onClose:function(){return s(!1)},children:Object(a.jsxs)("form",{className:ct.a.form,onSubmit:function(e){if(e.preventDefault(),!1===Boolean(d.trim()))return alert("Please add the title");t(d),s(!1)},children:[Object(a.jsx)("input",{placeholder:"write the title",type:"text",onChange:function(e){j(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(Ce,{children:"Create"})]})}))]})},it=n(13),st=n.n(it),lt=function(e){var t=e.title,n=e.className,c=e.onClick,o=e.onBoardUpdate,i=e.onBoardDelete,s=Object(r.useState)(!1),l=Object(v.a)(s,2),u=l[0],d=l[1],j=Object(r.useState)(t),f=Object(v.a)(j,2),b=f[0],O=f[1];Object(r.useEffect)((function(){O(t)}),[t]);return Object(a.jsxs)("div",{className:st.a.container,children:[Object(a.jsxs)("div",{className:U()(st.a.boardTile,n),onClick:c,children:[Object(a.jsxs)(Ce,{className:st.a.dots,onClick:function(e){e.stopPropagation(),d(!0)},children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),Object(a.jsx)("span",{children:t})]}),ne(u)(Object(a.jsx)(Ve,{className:st.a.popOver,onClose:function(){return d(!1)},children:Object(a.jsxs)("form",{className:st.a.form,onSubmit:function(e){if(e.preventDefault(),!1===Boolean(t.trim()))return alert("Title can not be empty");o(b),d(!1)},children:[Object(a.jsx)("input",{placeholder:"write the title",value:b,type:"text",onChange:function(e){O(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:st.a.buttons,children:[Object(a.jsx)(Ce,{type:"submit",children:"Update"}),Object(a.jsx)(Fe,{type:"button",className:st.a.delete,onClick:i,children:"delete"})]})]})}))]})},ut=function(e){var t=e.initialUsers,n=e.initialBoards,a=Object(r.useState)(null),c=Object(v.a)(a,2),o=c[0],i=c[1],l=Object(r.useState)(t||{}),u=Object(v.a)(l,2),j=u[0],f=u[1],b=Object(r.useState)(n||[]),O=Object(v.a)(b,2),m=O[0],p=O[1];return{state:{users:j,boards:m,currentBoardId:o},handleBackHomeClick:function(){return i(null)},handleUserCreate:function(e){var t=T();f((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},t,Object(d.a)({id:t},e)))}))},handleDeleteUser:function(e){var t=Object(d.a)({},j);delete t[e],f(t)},handleBoardUpdate:function(e){return function(t){var n=m.findIndex((function(t){return t.id===e}));m[n].title=t,p(Object(V.a)(m))}},handleBoardDelete:function(e){p((function(t){return t.filter((function(t){return t.id!==e}))}))},handleBoardCreate:function(e){var t=T();p((function(n){return[].concat(Object(V.a)(n),[{title:e,id:t}])})),i(t)},handleUserUpdate:function(e){f(Object(d.a)(Object(d.a)({},j),{},Object(s.a)({},e.id,e)))},handleBoardClick:function(e){return i(e)}}},dt=function(e){var t=e.users,n=e.boards;Object(r.useEffect)((function(){M(C,t)}),[t]),Object(r.useEffect)((function(){M(x,n)}),[n])},jt=I(N),ft=I(k);var bt=function(){var e=ut({initialUsers:I(C),initialBoards:I(x)}),t=e.state,n=e.handleBackHomeClick,r=e.handleUserCreate,c=e.handleDeleteUser,o=e.handleBoardUpdate,i=e.handleBoardDelete,l=e.handleBoardCreate,d=e.handleUserUpdate,j=e.handleBoardClick,f=t.users,b=t.boards,O=t.currentBoardId;return dt({users:f,boards:b}),Object(a.jsx)("div",{className:u.a.app,children:Object(a.jsxs)(te.Provider,{value:{users:f},children:[Object(a.jsxs)("div",{children:[ne(O)(Object(a.jsx)(Ce,{onClick:n,children:"Back Home"})),Object(a.jsx)(at,{onUserDelete:c,onUserCreate:r,onUserUpdate:d,users:f})]}),null===O?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ot,{className:u.a.createBoard,onBoardCreate:l}),Object(a.jsx)("div",{className:u.a.boardsTiles,children:b.map((function(e){var t=e.title,n=e.id;return Object(a.jsx)(lt,{title:t,onBoardDelete:function(){return i(n)},onBoardUpdate:o(n),onClick:function(){return j(n)}},n)}))})]}):Object(a.jsx)(Ge,{initialTasks:jt&&jt[O],initialColumns:ft&&ft[O],users:f,onColumnsSave:function(e){return M(k,Object(s.a)({},O,e))},onTasksSave:function(e){return M(N,Object(s.a)({},O,e))}})]})})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(bt,{})}),document.getElementById("root")),Ot()}],[[73,1,2]]]);
//# sourceMappingURL=main.e98d4d0c.chunk.js.map
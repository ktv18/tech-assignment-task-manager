(this["webpackJsonptech-assignment-task-manager"]=this["webpackJsonptech-assignment-task-manager"]||[]).push([[0],{10:function(e,t,n){e.exports={addEntity:"AddNewEntity_addEntity__c2ArE",addEntityButton:"AddNewEntity_addEntityButton__2cehy",plus:"AddNewEntity_plus__1H8Jk",form:"AddNewEntity_form__1Bqu4",textarea:"AddNewEntity_textarea__301r-",input:"AddNewEntity_input__XAG2T",formButtons:"AddNewEntity_formButtons__3LDGc",closeButton:"AddNewEntity_closeButton__1C8q5"}},102:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n.n(r),o=n(36),i=n.n(o),s=(n(68),n(6)),u=n(28),l=n.n(u),d=n(2),j=n(104),f=n(61),b=n(29),O=n.n(b),v=n(5),p=n(105),m={ENTER:13,UP_ARROW:38,DOWN_ARROW:40,TAB:9},_="ITEM_TYPE",h="task-manager",x="".concat(h,"-boards"),C="".concat(h,"-tasks"),N="".concat(h,"-users"),k="".concat(h,"-columns"),g=function(e){var t=e.onDrop,n=e.canDrop,a=Object(p.a)({accept:_,canDrop:function(e){return n(e)},drop:function(e){return t(e)},collect:function(e){return{isOver:e.isOver()}}}),r=Object(v.a)(a,2),c=r[0].isOver;return{ref:r[1],isOver:c}},y=function(e){var t=e.onDrop,n=e.children,r=e.onCanDrop,o=e.colId,i=g({onDrop:function(e){return t(e,o)},canDrop:function(e){return r(e)}}),s=i.ref,u=i.isOver;return Object(a.jsx)("div",{ref:s,children:c.a.cloneElement(n,{isOver:u})})},B=n(15),E=n(4),A=n.n(E),S=n(9),U=n.n(S),w=n(106),D=function(e,t){var n;return function(){if(!n){for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];e.apply(null,r),n=!0,setTimeout((function(){return n=!1}),t)}}},T=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},I=function(e){try{var t=localStorage.getItem(e);return t&&JSON.parse(t)}catch(n){return null}},M=function(e,t){localStorage.setItem(e,JSON.stringify(t))},R=function(e){return Object.keys(e).map((function(t){return e[t]}))},W=function(e){var t=e.onCardSwap,n=e.cardDetails,a=Object(r.useRef)(null),c=Object(p.a)({accept:_,hover:D((function(e,r){if(a.current){var c=e.index,o=n.index;if(c!==o){var i=a.current.getBoundingClientRect(),s=(i.bottom-i.top)/2,u=r.getSourceClientOffset().y-i.top;c<o&&u<s||c>o&&u>s||(e.index=o,t(c,o))}}}),100)}),o=Object(v.a)(c,2)[1],i=Object(w.a)({item:Object(d.a)({type:_},n),isDragging:function(e){return n.id===e.getItem().id},collect:function(e){return{isDragging:e.isDragging()}}}),s=Object(v.a)(i,2),u=s[0].isDragging;return(0,s[1])(o(a)),{ref:a,isDragging:u}},V=n(30),L=n.n(V),P=n(8),F=n(39),q=n.n(F),H=n(40),J=n.n(H);q.a.setAppElement("#root");var K=function(e){var t=e.show,n=e.onClose,r=e.className,c=e.children,o=void 0===c?null:c;return Object(a.jsx)(q.a,{isOpen:t,onRequestClose:n,className:A()(J.a.modal,r),overlayClassName:J.a.overlay,children:o})},G=n(41),X=n.n(G),Y=function(e){var t=e.value,n=e.onChange,c=void 0===n?function(){}:n,o=e.onFocus,i=e.type,s=void 0===i?"text":i,u=e.placeholder,l=e.className,d=Object(r.useState)(!1),j=Object(v.a)(d,2),f=j[0],b=j[1],O=Object(r.useRef)(null);return Object(a.jsx)("input",{ref:O,onMouseOver:function(){return b(!0)},onMouseLeave:function(){return b(!1)},onFocus:o,onKeyDown:function(e){return function(e,t){var n=e.key,a=["Escape","Tab"],r=[].concat(a,["Enter"]);("textarea"===t&&a.indexOf(n)>-1||"textarea"!==t&&r.indexOf(n)>-1)&&(e.stopPropagation(),O.current.blur())}(e,s)},type:s,className:A()(X.a.editable,f&&X.a.hovered,l),placeholder:u,value:t,onChange:function(e){return c(e.target.value)}})},Q=n(42),z=n.n(Q),Z=function(e){var t=e.className,n=e.user,r=n.avatarUrl,c=n.firstName,o=void 0===c?"":c,i=n.lastName,s=void 0===i?"":i;return!1===Boolean(r)?Object(a.jsxs)("div",{className:A()(z.a.userAvatar,t),children:[o.charAt(0).toUpperCase(),s.charAt(0).toUpperCase()]}):Object(a.jsx)("img",{className:A()(z.a.userAvatar,t),src:n.avatarUrl,alt:n.fullName})},$=n(14),ee=n.n($),te=Object(r.createContext)({}),ne=function(e){return function(t){return e?t:null}},ae=n(11),re=n.n(ae),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.toLowerCase()},oe=function(e){return e[0]},ie=function(e){return e.length-1},se=function(e){var t=e.options,n=e.selectedValues,a=e.onChange,c=e.inputRef,o=Object(r.useState)({activeValue:null,querySearch:""}),i=Object(v.a)(o,2),s=i[0],u=i[1],l=t.filter((function(e){return ce(e.label).includes(ce(s.querySearch.trim()))})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{active:s.activeValue===e.value,selected:n.includes(e.value)})})),j=function(e){u(Object(d.a)(Object(d.a)({},s),{},{activeValue:e}))};return{state:{optionsToShow:l},handleInputChange:function(e){u(Object(d.a)(Object(d.a)({},s),{},{querySearch:e.target.value}))},handleKeyDown:function(e){if([m.DOWN_ARROW,m.UP_ARROW,m.ENTER].includes(e.keyCode))switch(e.preventDefault(),e.keyCode){case m.DOWN_ARROW:!function(){if(null===s.activeValue){var e=oe(l).value;return j(e)}var t=l.findIndex((function(e){return e.value===s.activeValue}));if(t+1===l.length){var n=oe(l).value;return j(n)}var a=l[t+1].value;j(a)}();break;case m.UP_ARROW:!function(){if(null===s.activeId){var e=l[ie(l)].value;return j(e)}var t=l.findIndex((function(e){return e.value===s.activeValue}));if(t-1<0){var n=l[ie(l)].value;return j(n)}var a=l[t-1].value;j(a)}();break;case m.ENTER:!function(){var e=l.find((function(e){return e.value===s.activeValue}));a({value:e.value,selected:!e.selected})}();break;default:return!1}},handleOptionClick:function(e){var t,n=e.value,r=l.find((function(e){return e.value===n}));a({value:n,selected:!r.selected}),null===(t=c.current)||void 0===t||t.focus()},handleOptionMouseOver:function(e){return j(e.value)}}},ue=function(e){Object(r.useEffect)((function(){e()}),[])},le=n(55),de=n.n(le),je=function(e){var t=e.className;return Object(a.jsx)("span",{className:A()(de.a.tick,t),children:"\u2713"})},fe=function(e){var t=e.className,n=e.activeOptionClassName,c=void 0===n?re.a.active:n,o=e.selectedOptionClassName,i=void 0===o?re.a.selected:o,s=e.placeholder,u=void 0===s?"search something":s,l=e.title,j=e.options,f=void 0===j?[]:j,b=e.renderOptionWrapper,O=e.renderOption,v=void 0===O?function(e){return e.label}:O,p=e.selectedValues,m=void 0===p?[]:p,_=e.onChange,h=void 0===_?function(e){return console.log(e)}:_,x=e.inputFocusOnMount,C=void 0!==x&&x,N=Object(r.useRef)(null);ue((function(){var e;return C&&(null===(e=N.current)||void 0===e?void 0:e.focus())}));var k=function(e){var t=e.active,n=e.selected;return A()([re.a.option,t&&c,n&&i])},g=se({options:f,selectedValues:m,onChange:h,inputRef:N}),y=g.state,B=g.handleInputChange,E=g.handleKeyDown,S=g.handleOptionClick,U=g.handleOptionMouseOver;return Object(a.jsxs)("div",{className:A()([re.a.dropdown,t]),children:[Object(a.jsx)("input",{ref:N,className:re.a.input,placeholder:u,type:"text",onChange:B,onKeyDown:E}),ne(l)(Object(a.jsx)("div",{className:re.a.optionsTitle,children:l})),Object(a.jsx)("div",{className:re.a.optionsContainer,children:y.optionsToShow.map((function(e){var t=e.value,n=e.active,c=e.selected,o={className:k({active:n,selected:c}),onMouseOver:function(){return U({value:t})},onClick:function(){return S({value:t})}};return b?b(Object(d.a)(Object(d.a)(Object(d.a)({},e),o),{},{children:v(e)})):Object(r.createElement)("div",Object(d.a)(Object(d.a)({},o),{},{key:t}),v(e),ne(Boolean(c))(Object(a.jsx)(je,{className:re.a.tick})))}))})]})},be=(n(81),n(31)),Oe=n.n(be),ve=function(e){return A()([Oe.a.option,e])},pe=function(e){var t=e.className,n=e.user;return Object(a.jsxs)("div",{className:ve(t),children:[Object(a.jsx)(Z,{user:n}),Object(a.jsxs)("div",{className:Oe.a.nameDetails,children:[Object(a.jsx)("span",{children:"".concat(n.firstName," ").concat(n.lastName)}),Object(a.jsx)("span",{className:Oe.a.nickName,children:"(".concat(n.nickName,")")})]})]})},me=function(e){return Object(d.a)({value:e.id,label:"".concat(e.firstName," ").concat(e.lastName," ").concat(e.nickName)},e)},_e=function(e){var t=e.className,n=e.users,r=void 0===n?[]:n,c=e.title,o=e.onChange,i=e.selectedValues,s=e.renderOptionWrapper;return Object(a.jsx)(fe,{className:t,options:r.map(me),selectedValues:i,placeholder:"Search users",title:c,renderOptionWrapper:s,renderOption:function(e){return Object(a.jsx)(pe,{user:e})},onChange:o})},he=n(56),xe=n.n(he),Ce=function(e){var t=e.className,n=void 0===t?"":t,r=e.children,c=Object(B.a)(e,["className","children"]);return Object(a.jsx)("button",Object(d.a)(Object(d.a)({className:A()(xe.a.button,n)},c),{},{children:r}))},Ne=function(e){var t=e.elementRef,n=e.onOuterClick,a=e.shouldHandle,c=void 0===a||a;Object(r.useEffect)((function(){if(!1!==c){var e=function(e){if(null!==t.current){var a=e.target;a!==t.current&&!t.current.contains(a)&&n()}};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}}),[t,n,c])},ke=function(e){var t=e.children,n=e.className;return Object(a.jsx)("div",{className:n,children:t})},ge=function(e){var t=e.show,n=e.onClose,c=e.title,o=e.onCardUpdate,i=e.users,s=void 0===i?[]:i,u=Object(r.useState)(!1),l=Object(v.a)(u,2),j=l[0],f=l[1],b=Object(r.useRef)(null);Ne({shouldHandle:j,elementRef:b,onOuterClick:function(){return f(!1)}});var O=Object(r.useContext)(te).users,p=s.map((function(e){return e.id}));return Object(a.jsxs)(K,{show:t,onClose:n,children:[Object(a.jsx)(Y,{value:c,onChange:function(e){return o({title:e,usersIds:p})},placeholder:"Write a task title"}),Object(a.jsxs)("div",{className:ee.a.users,children:[s.map((function(e){return Object(a.jsx)(Z,Object(d.a)(Object(d.a)({},{user:e}),{},{className:ee.a.userAvatar}),e.id)})),Object(a.jsxs)("div",{className:ee.a.popOverWrapper,children:[Object(a.jsx)(Ce,{className:s.length>0&&ee.a.plus,onClick:function(){return f(!0)},children:s.length>0?"+":"Assign User"}),ne(j)(Object(a.jsx)("div",{ref:b,className:ee.a.popOverContainer,children:Object(a.jsx)(ke,{className:ee.a.popOver,children:Object(a.jsx)(_e,{users:R(O),selectedValues:p,onChange:function(e){var t=e.value,n=e.selected;if(!1===Boolean(n)){var a=p.filter((function(e){return e!==t}));return o({title:c,usersIds:a})}var r=s.map((function(e){return e.id}));o({title:c,usersIds:[].concat(Object(P.a)(r),[t])})}})})}))]})]})]})},ye=function(){var e=Object(r.useState)(!1),t=Object(v.a)(e,2),n=t[0],a=t[1];return{modalVisible:n,showModal:function(){return a(!0)},hideModal:function(){return a(!1)}}},Be=function(e){var t=e.title,n=e.className,r=e.users,c=void 0===r?[]:r,o=e.onCardUpdate,i=ye(),s=i.modalVisible,u=i.showModal,l=i.hideModal;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:A()(L.a.card,n),onClick:u,children:[Object(a.jsx)("span",{children:t}),Object(a.jsx)("div",{className:L.a.users,children:c.map((function(e){return Object(a.jsx)(Z,Object(d.a)(Object(d.a)({},{user:e}),{},{className:L.a.user}),e.id)}))})]}),Object(a.jsx)(ge,{title:t,users:c,onClose:l,show:s,onCardUpdate:o})]})},Ee=function(e){var t=e.dragProps,n=e.cardProps,r=t.id,c=t.index,o=t.colId,i=t.moveItem,s=t.usersIds,u=W({cardDetails:Object(d.a)({colId:o,id:r,index:c,usersIds:s},n),onCardSwap:i}),l=u.ref,j=u.isDragging;return Object(a.jsx)("div",{ref:l,style:{opacity:j?0:1,zIndex:999},children:Object(a.jsx)(Be,Object(d.a)({},n))})},Ae=n(57),Se=n.n(Ae),Ue=n(10),we=n.n(Ue),De=function(e){var t=e.onEntityAdd,n=Object(r.useState)(""),a=Object(v.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(v.a)(i,2),u=s[0],l=s[1],d=function(){if(c)return t({title:c}),o("")};return{state:{title:c,expanded:u},handleTitleChange:function(e){var t=e.target;o(t.value)},handleCardAdd:d,handleSubmit:function(e){e.preventDefault(),d()},handleExpanderClick:function(e){return function(){return l(e)}},handleOuterClick:function(){d(),l(!1)}}},Te=function(e){var t=e.className,n=e.onEntityAdd,c=void 0===n?function(){}:n,o=e.inputType,i=e.addEntityButtonLabel,s=void 0===i?"Add Another Entity":i,u=e.submitEntityButtonLabel,l=void 0===u?"Add Entity":u,j=e.addEntityButtonClassName,f=Object(r.useRef)(null),b=De({onEntityAdd:c}),O=b.handleTitleChange,v=b.handleSubmit,p=b.handleExpanderClick,m=b.handleOuterClick,_=b.state;Ne({shouldHandle:_.expanded,elementRef:f,onOuterClick:m});var h={placeholder:"Enter a title for this entity",value:_.title,onChange:O},x=_.expanded?Object(a.jsxs)("form",{ref:f,onSubmit:v,className:we.a.form,children:["input"===o?Object(a.jsx)("input",Object(d.a)({className:we.a.input,type:"text"},h)):Object(a.jsx)("textarea",Object(d.a)({className:we.a.textarea,rows:5},h)),Object(a.jsxs)("div",{className:we.a.formButtons,children:[Object(a.jsx)(Ce,{className:we.a.button,type:"submit",children:l}),Object(a.jsx)(Ce,{className:we.a.closeButton,type:"button",onClick:p(!1),children:"X"})]})]}):Object(a.jsxs)(Ce,{className:A()(we.a.addEntityButton,j),onClick:p(!0),children:[Object(a.jsx)("span",{className:we.a.plus,children:"+"})," ",s]});return Object(a.jsx)("div",{className:A()(we.a.addEntity,t),children:x})},Ie=function(e){var t=e.className,n=e.onCardAdd,r=void 0===n?function(){}:n,c=e.addCardButtonLabel,o=void 0===c?"Add Another Card":c,i=e.addCardButtonClassName;return Object(a.jsx)(Te,{className:A()(Se.a.addCard,t),addEntityButtonClassName:i,submitEntityButtonLabel:"Add Card",addEntityButtonLabel:o,onEntityAdd:r})},Me=n(58),Re=n.n(Me),We=function(e){var t=e.children,n=e.className,c=e.onClose,o=Object(r.useRef)(null);return Ne({shouldHandle:!0,elementRef:o,onOuterClick:c}),Object(a.jsx)("div",{ref:o,className:A()(Re.a.popOver,n),children:t})},Ve=function(e){var t=e.className,n=e.title,c=void 0===n?"":n,o=e.cards,i=void 0===o?[]:o,s=e.onCardAdd,u=void 0===s?function(){}:s,l=e.isOver,j=e.onCardUpdate,f=e.onTitleUpdate,b=e.onColumnDelete,O=Object(r.useState)(!1),p=Object(v.a)(O,2),m=p[0],_=p[1];return Object(a.jsxs)("div",{className:A()(U.a.cardsColumn,t),children:[Object(a.jsxs)("div",{className:U.a.dotsContainer,children:[Object(a.jsxs)(Ce,{className:U.a.dots,onClick:function(){return _(!0)},children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),ne(m)(Object(a.jsx)(We,{className:U.a.popOver,onClose:function(){return _(!1)},children:Object(a.jsx)(Ce,{type:"button",className:U.a.delete,onClick:b,children:"delete"})}))]}),Object(a.jsx)(Y,{className:U.a.title,value:c.toUpperCase(),onChange:f}),Object(a.jsx)("div",{className:A()(U.a.cardsContainer,l&&U.a.active),children:i.map((function(e){var t,n=e.title,r=(e.className,e.users),c=Object(B.a)(e,["title","className","users"]);return Object(a.jsx)(Ee,{cardProps:{title:n,className:U.a.card,users:r,onCardUpdate:(t=c.id,function(e){return j(Object(d.a)(Object(d.a)({},e),{},{id:t}))})},dragProps:c},c.id)}))}),Object(a.jsx)(Ie,{className:U.a.addCard,onCardAdd:u})]})},Le=n(59),Pe=n.n(Le),Fe=function(e){var t=e.className,n=e.onColumnAdd,r=void 0===n?function(){}:n,c=e.addColumnButtonClassName;return Object(a.jsx)(Te,{inputType:"input",className:A()(Pe.a.addCard,t),addEntityButtonClassName:c,addEntityButtonLabel:"Add New Column",submitEntityButtonLabel:"Add Column",onEntityAdd:r})},qe=function(e){var t=e.initialColumns,n=e.initialTasks,a=Object(r.useState)(t||[]),c=Object(v.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(n||[]),u=Object(v.a)(s,2),l=u[0],j=u[1];return{state:{columns:o,tasks:l},handleTaskUpdate:function(e){var t=l.findIndex((function(t){return t.id===e.id}));l[t]=e,j(Object(P.a)(l))},handleColumnDelete:function(e){i((function(t){return t.filter((function(t){return t.id!==e}))}))},handleColumnUpdate:function(e){var t=e.title,n=e.id,a=o.findIndex((function(e){return e.id===n}));o[a].title=t,i(Object(P.a)(o))},handleColumnAdd:function(e){var t={title:e.title,id:T()};i((function(e){return[].concat(Object(P.a)(e),[t])}))},handleMoveItem:function(e,t){var n=l[e];j((function(a){var r=a.filter((function(t,n){return n!==e}));return r.splice(t,0,n),Object(P.a)(r)}))},handleDrop:function(e,t){j((function(n){return n.filter((function(t){return t.id!==e.id})).concat({id:(a=Object(d.a)(Object(d.a)({},e),{},{colId:t})).id,usersIds:a.usersIds,title:a.title,colId:a.colId,index:a.index});var a}))},checkDrop:function(e){return function(t){var n=o.findIndex((function(e){return e.id===t.colId}));return[e+1,e-1,e].includes(n)}},handleCardAdd:function(e){return function(t){var n=t.title,a={id:T(),title:n,usersIds:[],index:l.length,colId:e};j([].concat(Object(P.a)(l),[a]))}}}},He=function(e){var t=e.tasks,n=e.columns,a=e.onTasksSave,c=e.onColumnsSave;Object(r.useEffect)((function(){a(t)}),[t]),Object(r.useEffect)((function(){c(n)}),[n])},Je=function(e){var t=e.users,n=e.initialTasks,r=e.initialColumns,c=e.onTasksSave,o=e.onColumnsSave,i=qe({initialColumns:r,initialTasks:n}),s=i.state,u=i.handleTaskUpdate,l=i.handleColumnDelete,b=i.handleColumnUpdate,v=i.handleColumnAdd,p=i.handleMoveItem,m=i.handleCardAdd,_=i.handleDrop,h=i.checkDrop,x=s.columns,C=s.tasks;return He({columns:x,tasks:C,onTasksSave:c,onColumnsSave:o}),Object(a.jsx)("div",{className:O.a.board,children:Object(a.jsx)(j.a,{backend:f.a,children:Object(a.jsxs)("div",{className:O.a.grid,children:[x.map((function(e,n){return Object(a.jsx)(y,{colId:e.id,onCanDrop:h(n),onDrop:_,status:e.title,children:Object(a.jsx)(Ve,{title:e.title,onTitleUpdate:function(t){return b({title:t,id:e.id})},onColumnDelete:function(){return l(e.id)},onCardAdd:m(e.id),onCardUpdate:function(t){return u(Object(d.a)(Object(d.a)({},t),{},{colId:e.id}))},cards:C.filter((function(t){return t.colId===e.id})).sort((function(e,t){return e.index-t.index})).map((function(e,n){var a=e.usersIds.map((function(e){return t[e]})).filter((function(e){return e}));return Object(d.a)(Object(d.a)({},e),{},{users:a,index:n,moveItem:p})}))})},e.id)})),Object(a.jsx)(Fe,{className:O.a.addColumn,onColumnAdd:v})]})})})},Ke=n(17),Ge=n.n(Ke),Xe=n(43),Ye=n.n(Xe),Qe=function(e){var t=e.className,n=e.fields,c=void 0===n?[]:n,o=e.onSubmit,i=e.onCancel,u=Object(r.useState)(function(e){return e.reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t.name,{value:t.value,isRequired:t.isRequired}))}),{})}(c)),l=Object(v.a)(u,2),j=l[0],f=l[1],b=function(e){return j[e].isRequired&&!1===Boolean(j[e].value.trim())};return Object(a.jsxs)("form",{className:t,onSubmit:function(e){if(e.preventDefault(),!Object.keys(j).some(b)){var t=Object.keys(j).reduce((function(e,t){return Object(d.a)(Object(d.a)({},e),{},Object(s.a)({},t,j[t].value))}),{});return o(t)}alert("Please fill the fields")},children:[c.map((function(e,t){var n=e.name,r=e.placeholder;return Object(a.jsx)("input",{className:A()(Ye.a.input,b(n)&&Ye.a.inputError),placeholder:r,value:j[n].value,onChange:function(e){var t=e.target.value;!function(e,t){f((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e,Object(d.a)(Object(d.a)({},n[e]),{},{value:t})))}))}(n,t)}},t)})),Object(a.jsx)(Ce,{type:"submit",children:"save"}),Object(a.jsx)(Ce,{type:"button",onClick:i,children:"cancel"})]})},ze=n(60),Ze=n.n(ze),$e=function(e){var t=e.className,n=e.user,r=e.onEditClick,c=e.onDeleteClick,o=n.avatarUrl,i=n.firstName,s=n.lastName,u=n.nickName;return Object(a.jsxs)("div",{className:t,children:[[o,i,s,u].map((function(e,t){return Object(a.jsx)("div",{children:e},t)})),Object(a.jsx)(Ce,{onClick:r,children:"edit"}),Object(a.jsx)(Ce,{onClick:c,className:Ze.a.delete,children:"delete"})]},e.id)},et=[{name:"avatarUrl",placeholder:"paste user avatar url"},{name:"firstName",placeholder:"write user first name"},{name:"lastName",placeholder:"write user last name"},{name:"nickName",placeholder:"write user nick name"}],tt=function(e){var t=e.name,n=e.value,a=void 0===n?"":n,r=e.placeholder;return{name:t,placeholder:void 0===r?"":r,value:a,isRequired:"avatarUrl"!==t}},nt=function(e){var t=e.onUserUpdate,n=void 0===t?function(){}:t,c=e.onUserCreate,o=void 0===c?function(){}:c,i=e.onUserDelete,u=void 0===i?function(){}:i,l=ye(),j=l.modalVisible,f=l.showModal,b=l.hideModal,O=Object(r.useState)({}),p=Object(v.a)(O,2),m=p[0],_=p[1],h=Object(r.useState)(!1),x=Object(v.a)(h,2),C=x[0],N=x[1],k=R(e.users),g=function(e,t){return _((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},e,t))}))},y=function(e){var t=e.key,n=e.onCancel,r=e.fields,c=e.onSubmit;return Object(a.jsx)(Qe,Object(d.a)({className:Ge.a.userOption},{onCancel:n,fields:r,onSubmit:c}),t)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ce,{onClick:f,children:"Manage Users"}),Object(a.jsxs)(K,{className:Ge.a.modal,show:j,onClose:b,children:[Object(a.jsxs)("div",{className:Ge.a.newUserSection,children:[ne(C)(y({key:"",onCancel:function(){return N(!1)},onSubmit:function(e){o(e),N(!1)},fields:et.map(tt)})),ne(!1===C)(Object(a.jsx)(Ce,{onClick:function(){return N(!0)},children:"Add new User"}))]}),Object(a.jsx)(_e,{className:Ge.a.dropdown,users:k,renderOptionWrapper:function(e){if(!1===Boolean(m[e.id])){var t=e.avatarUrl,r=e.firstName,c=e.lastName,o=e.nickName;return Object(a.jsx)($e,{className:Ge.a.userOption,user:{avatarUrl:t,firstName:r,lastName:c,nickName:o},onEditClick:function(){return g(e.id,!0)},onDeleteClick:function(){return u(e.id)}},e.id)}var i=et.map((function(t){var n=t.name,a=Object(B.a)(t,["name"]);return Object(d.a)({name:n,value:e[n]},a)})).map(tt);return y({key:e.value,onCancel:function(){return g(e.id,!1)},onSubmit:function(t){return function(e,t){n(Object(d.a)({id:e},t)),g(e,!1)}(e.id,t)},fields:i})}})]})]})},at=n(32),rt=n.n(at),ct=function(e){var t=e.onBoardCreate,n=e.className,c=Object(r.useState)(!1),o=Object(v.a)(c,2),i=o[0],s=o[1],u=Object(r.useState)(""),l=Object(v.a)(u,2),d=l[0],j=l[1];return Object(a.jsxs)("div",{className:A()(rt.a.container,n),onClick:function(){return s(!0)},children:["Create New Board",ne(i)(Object(a.jsx)(We,{className:rt.a.popOver,onClose:function(){return s(!1)},children:Object(a.jsxs)("form",{className:rt.a.form,onSubmit:function(e){if(e.preventDefault(),!1===Boolean(d.trim()))return alert("Please add the title");t(d),s(!1)},children:[Object(a.jsx)("input",{placeholder:"write the title",type:"text",onChange:function(e){j(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsx)(Ce,{children:"Create"})]})}))]})},ot=n(12),it=n.n(ot),st=function(e){var t=e.title,n=e.className,c=e.onClick,o=e.onBoardUpdate,i=e.onBoardDelete,s=Object(r.useState)(!1),u=Object(v.a)(s,2),l=u[0],d=u[1],j=Object(r.useState)(t),f=Object(v.a)(j,2),b=f[0],O=f[1];Object(r.useEffect)((function(){O(t)}),[t]);return Object(a.jsxs)("div",{className:it.a.container,children:[Object(a.jsxs)("div",{className:A()(it.a.boardTile,n),onClick:c,children:[Object(a.jsxs)(Ce,{className:it.a.dots,onClick:function(e){e.stopPropagation(),d(!0)},children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]}),Object(a.jsx)("span",{children:t})]}),ne(l)(Object(a.jsx)(We,{className:it.a.popOver,onClose:function(){return d(!1)},children:Object(a.jsxs)("form",{className:it.a.form,onSubmit:function(e){if(e.preventDefault(),!1===Boolean(t.trim()))return alert("Title can not be empty");o(b),d(!1)},children:[Object(a.jsx)("input",{placeholder:"write the title",value:b,type:"text",onChange:function(e){O(e.target.value)}}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:it.a.buttons,children:[Object(a.jsx)(Ce,{type:"submit",children:"Update"}),Object(a.jsx)(Ce,{type:"button",className:it.a.delete,onClick:i,children:"delete"})]})]})}))]})},ut=function(e){var t=e.initialUsers,n=e.initialBoards,a=Object(r.useState)(null),c=Object(v.a)(a,2),o=c[0],i=c[1],u=Object(r.useState)(t||{}),l=Object(v.a)(u,2),j=l[0],f=l[1],b=Object(r.useState)(n||[]),O=Object(v.a)(b,2),p=O[0],m=O[1];return{state:{users:j,boards:p,currentBoardId:o},handleBackHomeClick:function(){return i(null)},handleUserCreate:function(e){var t=T();f((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(s.a)({},t,Object(d.a)({id:t},e)))}))},handleDeleteUser:function(e){var t=Object(d.a)({},j);delete t[e],f(t)},handleBoardUpdate:function(e){return function(t){var n=p.findIndex((function(t){return t.id===e}));p[n].title=t,m(Object(P.a)(p))}},handleBoardDelete:function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))},handleBoardCreate:function(e){var t=T();m((function(n){return[].concat(Object(P.a)(n),[{title:e,id:t}])})),i(t)},handleUserUpdate:function(e){f(Object(d.a)(Object(d.a)({},j),{},Object(s.a)({},e.id,e)))},handleBoardClick:function(e){return i(e)}}},lt=function(e){var t=e.users,n=e.boards;Object(r.useEffect)((function(){M(C,t)}),[t]),Object(r.useEffect)((function(){M(x,n)}),[n])},dt=I(N),jt=I(k);var ft=function(){var e=ut({initialUsers:I(C),initialBoards:I(x)}),t=e.state,n=e.handleBackHomeClick,r=e.handleUserCreate,c=e.handleDeleteUser,o=e.handleBoardUpdate,i=e.handleBoardDelete,u=e.handleBoardCreate,d=e.handleUserUpdate,j=e.handleBoardClick,f=t.users,b=t.boards,O=t.currentBoardId;return lt({users:f,boards:b}),Object(a.jsx)("div",{className:l.a.app,children:Object(a.jsxs)(te.Provider,{value:{users:f},children:[Object(a.jsxs)("div",{children:[ne(O)(Object(a.jsx)(Ce,{onClick:n,children:"Back Home"})),Object(a.jsx)(nt,{onUserDelete:c,onUserCreate:r,onUserUpdate:d,users:f})]}),null===O?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ct,{className:l.a.createBoard,onBoardCreate:u}),Object(a.jsx)("div",{className:l.a.boardsTiles,children:b.map((function(e){var t=e.title,n=e.id;return Object(a.jsx)(st,{title:t,onBoardDelete:function(){return i(n)},onBoardUpdate:o(n),onClick:function(){return j(n)}},n)}))})]}):Object(a.jsx)(Je,{initialTasks:dt&&dt[O],initialColumns:jt&&jt[O],users:f,onColumnsSave:function(e){return M(k,Object(s.a)({},O,e))},onTasksSave:function(e){return M(N,Object(s.a)({},O,e))}})]})})},bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,107)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ft,{})}),document.getElementById("root")),bt()},11:function(e,t,n){e.exports={dropdown:"Dropdown_dropdown__fVfEx",input:"Dropdown_input__2H5am",optionsTitle:"Dropdown_optionsTitle__1VJun",option:"Dropdown_option__3WSwf",active:"Dropdown_active__3SbmY",selected:"Dropdown_selected__oLYSn",tick:"Dropdown_tick__2KPlx"}},12:function(e,t,n){e.exports={container:"BoardTile_container__1Lw9k",boardTile:"BoardTile_boardTile__1Wgao",dots:"BoardTile_dots__3lvvr",popOver:"BoardTile_popOver__1Ig60",form:"BoardTile_form__3q7kL",buttons:"BoardTile_buttons__2AaXn",delete:"BoardTile_delete__dOy7t"}},14:function(e,t,n){e.exports={users:"EditModal_users__12_wt",userAvatar:"EditModal_userAvatar__2JXS9",popOverWrapper:"EditModal_popOverWrapper__2PM2S",popOver:"EditModal_popOver__2LNHM",plus:"EditModal_plus__21_6C"}},17:function(e,t,n){e.exports={modal:"ManageUsersModal_modal__2R0hI",dropdown:"ManageUsersModal_dropdown__2tJfc",newUserSection:"ManageUsersModal_newUserSection__20D4i",userOption:"ManageUsersModal_userOption__17xkw"}},28:function(e,t,n){e.exports={app:"App_app__13Yue",boardsTiles:"App_boardsTiles__jK6nv",createBoard:"App_createBoard__1dKXq"}},29:function(e,t,n){e.exports={board:"Board_board__1eH_K",grid:"Board_grid__2R2by",addColumn:"Board_addColumn__1ufof"}},30:function(e,t,n){e.exports={card:"Card_card__1eE8R",users:"Card_users__8gWOt",user:"Card_user__38l0G"}},31:function(e,t,n){e.exports={option:"Option_option__1cvLn",nameDetails:"Option_nameDetails__Eraqg",nickName:"Option_nickName__uQ1qm"}},32:function(e,t,n){e.exports={container:"CreateBoard_container__vogBj",popOver:"CreateBoard_popOver__25DkH",form:"CreateBoard_form__1YMcn"}},40:function(e,t,n){e.exports={modal:"Modal_modal__P3_V5",overlay:"Modal_overlay__2GjdW"}},41:function(e,t,n){e.exports={editable:"EditableText_editable__wkmwK",hovered:"EditableText_hovered__KJhw7"}},42:function(e,t,n){e.exports={userAvatar:"UserAvatar_userAvatar__2oyFd"}},43:function(e,t,n){e.exports={input:"UserForm_input__2miHM",inputError:"UserForm_inputError__ICOEF"}},55:function(e,t,n){e.exports={tick:"Tick_tick__1LcoM"}},56:function(e,t,n){e.exports={button:"Button_button__3QF_k"}},57:function(e,t,n){e.exports={addCard:"AddCard_addCard__3k0Vc",addCardButton:"AddCard_addCardButton__3nkkP",plus:"AddCard_plus__3iJ8i",form:"AddCard_form__1Syzr",textarea:"AddCard_textarea__J31sm",formButtons:"AddCard_formButtons__2pdw3",closeButton:"AddCard_closeButton__2yBQh"}},58:function(e,t,n){e.exports={popOver:"PopOver_popOver__2CTBE"}},59:function(e,t,n){},60:function(e,t,n){e.exports={delete:"UserTextRow_delete__mxhIp"}},68:function(e,t,n){},9:function(e,t,n){e.exports={cardsColumn:"CardsColumn_cardsColumn__Up7h_",title:"CardsColumn_title__3xeok",card:"CardsColumn_card__OJ1G1",addCard:"CardsColumn_addCard__3cR2H",cardsContainer:"CardsColumn_cardsContainer__ny4Uj",active:"CardsColumn_active__3MoWj",dotsContainer:"CardsColumn_dotsContainer__1K4VS",dots:"CardsColumn_dots__3Qapx",popOver:"CardsColumn_popOver__1ojdC",delete:"CardsColumn_delete__2Tzce"}}},[[102,1,2]]]);
//# sourceMappingURL=main.3af815f2.chunk.js.map